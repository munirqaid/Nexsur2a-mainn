<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الملف الشخصي - Nexora</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;700;800&family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- الشريط العلوي الثابت -->
    <header class="navbar">
        <div class="navbar-container">
            <div class="navbar-icons-left">
                <a href="index.html" class="nav-icon-btn" title="الرئيسية">
                    <i class="fas fa-arrow-right"></i>
                </a>
                <div class="logo" title="Nexora - Your World. Smarter.">
                    <span>الملف الشخصي</span>
                </div>
            </div>

            <div class="navbar-icons-right">
                <!-- أيقونة الإعدادات -->
                <button class="nav-icon-btn" title="الإعدادات" id="settingsBtn">
                    <i class="fas fa-cog"></i>
                </button>
                <!-- أيقونة التنبيهات -->
                <button class="nav-icon-btn" title="التنبيهات" id="notificationsBtn">
                    <i class="fas fa-bell"></i>
                    <span class="badge" id="notificationBadge">7</span>
                </button>
            </div>
        </div>
    </header>

    <!-- المحتوى الرئيسي -->
    <main class="main-container">
        <div class="profile-page-wrapper">
            
            <!-- قسم معلومات الملف الشخصي -->
            <section class="profile-info-section">
                <div class="profile-banner-container">
                    <img src="https://picsum.photos/1200/300?random=10" alt="Banner" class="profile-banner" id="profileBanner">
                    <button class="edit-banner-btn" id="editBannerBtn" title="تغيير الخلفية">
                        <i class="fas fa-camera"></i>
                    </button>
                </div>
                
                <div class="profile-details-header">
                    <div class="profile-avatar-container">
                        <img src="https://picsum.photos/120/120?random=1" alt="Avatar" class="profile-avatar" id="profileAvatar">
                        <button class="edit-avatar-btn" id="editAvatarBtn" title="تغيير الصورة">
                            <i class="fas fa-camera"></i>
                        </button>
                    </div>
                    
                    <div class="profile-text-info">
                        <h2 id="profileName">محمد الشرقي</h2>
                        <p class="profile-username">@mohammedalsharqi</p>
                        <p class="profile-bio" id="profileBio">مهندس برمجيات | مهتم بالتكنولوجيا والابتكار</p>
                        
                        <div class="profile-stats">
                            <div class="stat">
                                <span class="stat-number">245</span>
                                <span class="stat-label">متابع</span>
                            </div>
                            <div class="stat">
                                <span class="stat-number">189</span>
                                <span class="stat-label">متابَع</span>
                            </div>
                            <div class="stat">
                                <span class="stat-number" id="postCount">42</span>
                                <span class="stat-label">منشور</span>
                            </div>
                        </div>
                        
                        <button class="btn btn-primary edit-profile-btn" id="editProfileBtn">
                            <i class="fas fa-edit"></i>
                            <span>تعديل الملف الشخصي</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- قسم منشورات المستخدم -->
            <section class="user-posts-section">
                <h3 class="section-title">منشوراتي السابقة</h3>
                <div class="feed-section" id="userFeedSection">
                    <!-- منشورات المستخدم سيتم تحميلها هنا -->
                </div>
            </section>
        </div>
    </main>

    <!-- Modal للإشعارات (مكرر لصفحة profile) -->
    <div id="notificationsModal" class="modal">
        <div class="modal-content notifications-modal">
            <div class="modal-header">
                <h2>الإشعارات</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="notifications-list" id="notificationsList">
                <!-- الإشعارات سيتم تحميلها هنا -->
            </div>
        </div>
    </div>

    <!-- Modal للإعدادات (مكرر لصفحة profile) -->
    <div id="settingsModal" class="modal">
        <div class="modal-content settings-modal">
            <div class="modal-header">
                <h2>الإعدادات</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="settings-body">
                <h3>إعدادات الخصوصية</h3>
                <div class="setting-item">
                    <label for="privacySelect">من يمكنه رؤية منشوراتي؟</label>
                    <select id="privacySelect">
                        <option value="public">الكل</option>
                        <option value="friends">الأصدقاء فقط</option>
                        <option value="private">أنا فقط</option>
                    </select>
                </div>
                
                <h3 style="margin-top: 2rem;">إعدادات الحساب</h3>
                <div class="setting-item">
                    <label for="passwordInput">تغيير كلمة المرور</label>
                    <input type="password" id="passwordInput" placeholder="كلمة المرور الجديدة">
                </div>
                
                <h3 style="margin-top: 2rem;">إعدادات التنبيهات</h3>
                <div class="setting-item">
                    <label for="notificationsToggle">تشغيل/إيقاف الإشعارات</label>
                    <input type="checkbox" id="notificationsToggle" checked>
                </div>

                <button class="btn btn-primary" id="saveSettingsBtn">حفظ التغييرات</button>
            </div>
        </div>
    </div>

    <!-- Modal لتعديل الملف الشخصي (جديد) -->
    <div id="editProfileModal" class="modal">
        <div class="modal-content edit-profile-modal">
            <div class="modal-header">
                <h2>تعديل الملف الشخصي</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="edit-profile-body">
                <div class="setting-item">
                    <label for="editNameInput">الاسم</label>
                    <input type="text" id="editNameInput" value="محمد الشرقي">
                </div>
                <div class="setting-item">
                    <label for="editBioTextarea">الوصف / Bio</label>
                    <textarea id="editBioTextarea" rows="3">مهندس برمجيات | مهتم بالتكنولوجيا والابتكار</textarea>
                </div>
                <button class="btn btn-primary" id="saveProfileChangesBtn">حفظ التغييرات</button>
            </div>
        </div>
    </div>

    <!-- حقول إدخال ملف مخفية -->
    <input type="file" id="avatarFileInput" accept="image/*" style="display: none;">
    <input type="file" id="bannerFileInput" accept="image/*" style="display: none;">

    <script src="script.js"></script>
    <script>
        // منطق خاص بصفحة الملف الشخصي (Profile)
        document.getElementById("editProfileBtn").addEventListener("click", function() {
            document.getElementById("editProfileModal").classList.add("active");
        });

        document.getElementById("editAvatarBtn").addEventListener("click", function() {
            document.getElementById("avatarFileInput").click();
        });

        document.getElementById("editBannerBtn").addEventListener("click", function() {
            document.getElementById("bannerFileInput").click();
        });

        // Placeholder for loading user posts
        function loadUserPosts() {
            const userFeedSection = document.getElementById("userFeedSection");
            userFeedSection.innerHTML = '<p style="text-align: center; padding: 2rem;">تحميل منشورات المستخدم...</p>';
            // هنا سيتم استدعاء API لتحميل المنشورات الخاصة بالمستخدم
        }

        window.addEventListener("load", loadUserPosts);
    </script>
</body>
</html>
